{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { addDays, format, startOfMonth, endOfMonth, getMonth, getYear } from 'date-fns';\nconst STORAGE_KEY = 'budget-tracker-data';\n\n// Helper function to safely handle date serialization\nconst dateReviver = (key, value) => {\n  if (key === 'date' && typeof value === 'string') {\n    return new Date(value);\n  }\n  return value;\n};\nexport const useFinancialData = currentDate => {\n  _s();\n  const [entries, setEntries] = useState([]);\n  const [monthData, setMonthData] = useState({\n    days: {},\n    totalIncome: 0,\n    totalExpenses: 0,\n    monthlyBalance: 0\n  });\n  const [yearData, setYearData] = useState({\n    year: getYear(currentDate),\n    months: [],\n    totalIncome: 0,\n    totalExpenses: 0,\n    yearlyBalance: 0\n  });\n\n  // Load entries from localStorage on initial render\n  useEffect(() => {\n    try {\n      const storedData = localStorage.getItem(STORAGE_KEY);\n      if (storedData) {\n        const parsedData = JSON.parse(storedData, dateReviver);\n        setEntries(Array.isArray(parsedData) ? parsedData : []);\n      }\n    } catch (error) {\n      console.error('Error loading data from localStorage', error);\n      // Initialize with empty array if there's an error\n      setEntries([]);\n    }\n  }, []);\n\n  // Save entries to localStorage whenever they change\n  useEffect(() => {\n    try {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(entries, (key, value) => {\n        // Convert Date objects to ISO strings for storage\n        if (value instanceof Date) {\n          return value.toISOString();\n        }\n        return value;\n      }));\n    } catch (error) {\n      console.error('Error saving data to localStorage', error);\n    }\n  }, [entries]);\n\n  // Update month data whenever entries or current date change\n  useEffect(() => {\n    try {\n      const monthStart = startOfMonth(currentDate);\n      const monthEnd = endOfMonth(currentDate);\n      const daysInMonth = {};\n\n      // Initialize days in month\n      let day = monthStart;\n      while (day <= monthEnd) {\n        const dayStr = format(day, 'yyyy-MM-dd');\n        daysInMonth[dayStr] = {\n          date: new Date(day),\n          entries: [],\n          totalIncome: 0,\n          totalExpenses: 0,\n          dailyBalance: 0,\n          runningBalance: 0\n        };\n        day = addDays(day, 1);\n      }\n\n      // Add entries to their respective days\n      let monthlyIncome = 0;\n      let monthlyExpenses = 0;\n      entries.forEach(entry => {\n        // Ensure entry.date is a Date object\n        const entryDate = entry.date instanceof Date ? entry.date : new Date(entry.date);\n\n        // Only process entries for the current month\n        if (entryDate >= monthStart && entryDate <= monthEnd) {\n          const dayStr = format(entryDate, 'yyyy-MM-dd');\n          if (daysInMonth[dayStr]) {\n            daysInMonth[dayStr].entries.push({\n              ...entry,\n              date: entryDate // Ensure we use the Date object\n            });\n            if (entry.type === 'income') {\n              daysInMonth[dayStr].totalIncome += entry.amount;\n              monthlyIncome += entry.amount;\n            } else {\n              daysInMonth[dayStr].totalExpenses += entry.amount;\n              monthlyExpenses += entry.amount;\n            }\n            daysInMonth[dayStr].dailyBalance = daysInMonth[dayStr].totalIncome - daysInMonth[dayStr].totalExpenses;\n          }\n        }\n      });\n\n      // Calculate running balance for each day\n      let runningBalance = 0;\n      day = monthStart;\n      while (day <= monthEnd) {\n        const dayStr = format(day, 'yyyy-MM-dd');\n        runningBalance += daysInMonth[dayStr].dailyBalance;\n        daysInMonth[dayStr].runningBalance = runningBalance;\n        day = addDays(day, 1);\n      }\n      setMonthData({\n        days: daysInMonth,\n        totalIncome: monthlyIncome,\n        totalExpenses: monthlyExpenses,\n        monthlyBalance: monthlyIncome - monthlyExpenses\n      });\n    } catch (error) {\n      console.error('Error updating month data', error);\n      // Initialize with empty data if there's an error\n      setMonthData({\n        days: {},\n        totalIncome: 0,\n        totalExpenses: 0,\n        monthlyBalance: 0\n      });\n    }\n  }, [entries, currentDate]);\n\n  // Update year data whenever entries or current date's year changes\n  useEffect(() => {\n    try {\n      const currentYear = getYear(currentDate);\n\n      // Initialize the monthly summaries array\n      const monthlySummaries = Array.from({\n        length: 12\n      }, (_, month) => ({\n        month,\n        year: currentYear,\n        totalIncome: 0,\n        totalExpenses: 0,\n        monthlyBalance: 0\n      }));\n\n      // Calculate the totals for each month in the year\n      entries.forEach(entry => {\n        const entryDate = entry.date instanceof Date ? entry.date : new Date(entry.date);\n        const entryYear = getYear(entryDate);\n        const entryMonth = getMonth(entryDate);\n\n        // Only process entries for the current year\n        if (entryYear === currentYear) {\n          if (entry.type === 'income') {\n            monthlySummaries[entryMonth].totalIncome += entry.amount;\n          } else {\n            monthlySummaries[entryMonth].totalExpenses += entry.amount;\n          }\n        }\n      });\n\n      // Calculate monthly balances and yearly totals\n      let yearlyIncome = 0;\n      let yearlyExpenses = 0;\n      monthlySummaries.forEach(month => {\n        month.monthlyBalance = month.totalIncome - month.totalExpenses;\n        yearlyIncome += month.totalIncome;\n        yearlyExpenses += month.totalExpenses;\n      });\n      setYearData({\n        year: currentYear,\n        months: monthlySummaries,\n        totalIncome: yearlyIncome,\n        totalExpenses: yearlyExpenses,\n        yearlyBalance: yearlyIncome - yearlyExpenses\n      });\n    } catch (error) {\n      console.error('Error updating year data', error);\n      setYearData({\n        year: getYear(currentDate),\n        months: [],\n        totalIncome: 0,\n        totalExpenses: 0,\n        yearlyBalance: 0\n      });\n    }\n  }, [entries, currentDate]);\n  const addEntry = entry => {\n    try {\n      const newEntry = {\n        ...entry,\n        id: Date.now().toString(),\n        date: entry.date instanceof Date ? entry.date : new Date(entry.date)\n      };\n      setEntries(prev => [...prev, newEntry]);\n    } catch (error) {\n      console.error('Error adding entry', error);\n    }\n  };\n  const updateEntry = updatedEntry => {\n    try {\n      setEntries(prev => prev.map(entry => entry.id === updatedEntry.id ? {\n        ...updatedEntry,\n        date: updatedEntry.date instanceof Date ? updatedEntry.date : new Date(updatedEntry.date)\n      } : entry));\n    } catch (error) {\n      console.error('Error updating entry', error);\n    }\n  };\n  const deleteEntry = id => {\n    try {\n      setEntries(prev => prev.filter(entry => entry.id !== id));\n    } catch (error) {\n      console.error('Error deleting entry', error);\n    }\n  };\n  return {\n    monthData,\n    yearData,\n    addEntry,\n    updateEntry,\n    deleteEntry,\n    entries\n  };\n};\n_s(useFinancialData, \"OTU0+xIDBI/5NBtyCQHNYIgzDgw=\");","map":{"version":3,"names":["useState","useEffect","addDays","format","startOfMonth","endOfMonth","getMonth","getYear","STORAGE_KEY","dateReviver","key","value","Date","useFinancialData","currentDate","_s","entries","setEntries","monthData","setMonthData","days","totalIncome","totalExpenses","monthlyBalance","yearData","setYearData","year","months","yearlyBalance","storedData","localStorage","getItem","parsedData","JSON","parse","Array","isArray","error","console","setItem","stringify","toISOString","monthStart","monthEnd","daysInMonth","day","dayStr","date","dailyBalance","runningBalance","monthlyIncome","monthlyExpenses","forEach","entry","entryDate","push","type","amount","currentYear","monthlySummaries","from","length","_","month","entryYear","entryMonth","yearlyIncome","yearlyExpenses","addEntry","newEntry","id","now","toString","prev","updateEntry","updatedEntry","map","deleteEntry","filter"],"sources":["C:/Users/Administrator/Downloads/personal-budget-tracker/src/hooks/useFinancialData.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { addDays, format, startOfMonth, endOfMonth, getDate, isSameDay, parseISO, getMonth, getYear } from 'date-fns';\r\nimport { FinancialEntry, DayData, MonthData, YearData, MonthSummary } from '../types';\r\n\r\nconst STORAGE_KEY = 'budget-tracker-data';\r\n\r\n// Helper function to safely handle date serialization\r\nconst dateReviver = (key: string, value: any) => {\r\n  if (key === 'date' && typeof value === 'string') {\r\n    return new Date(value);\r\n  }\r\n  return value;\r\n};\r\n\r\nexport const useFinancialData = (currentDate: Date) => {\r\n  const [entries, setEntries] = useState<FinancialEntry[]>([]);\r\n  const [monthData, setMonthData] = useState<MonthData>({\r\n    days: {},\r\n    totalIncome: 0,\r\n    totalExpenses: 0,\r\n    monthlyBalance: 0,\r\n  });\r\n  const [yearData, setYearData] = useState<YearData>({\r\n    year: getYear(currentDate),\r\n    months: [],\r\n    totalIncome: 0,\r\n    totalExpenses: 0,\r\n    yearlyBalance: 0,\r\n  });\r\n\r\n  // Load entries from localStorage on initial render\r\n  useEffect(() => {\r\n    try {\r\n      const storedData = localStorage.getItem(STORAGE_KEY);\r\n      if (storedData) {\r\n        const parsedData = JSON.parse(storedData, dateReviver);\r\n        setEntries(Array.isArray(parsedData) ? parsedData : []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading data from localStorage', error);\r\n      // Initialize with empty array if there's an error\r\n      setEntries([]);\r\n    }\r\n  }, []);\r\n\r\n  // Save entries to localStorage whenever they change\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(entries, (key, value) => {\r\n        // Convert Date objects to ISO strings for storage\r\n        if (value instanceof Date) {\r\n          return value.toISOString();\r\n        }\r\n        return value;\r\n      }));\r\n    } catch (error) {\r\n      console.error('Error saving data to localStorage', error);\r\n    }\r\n  }, [entries]);\r\n\r\n  // Update month data whenever entries or current date change\r\n  useEffect(() => {\r\n    try {\r\n      const monthStart = startOfMonth(currentDate);\r\n      const monthEnd = endOfMonth(currentDate);\r\n      const daysInMonth: Record<string, DayData> = {};\r\n      \r\n      // Initialize days in month\r\n      let day = monthStart;\r\n      while (day <= monthEnd) {\r\n        const dayStr = format(day, 'yyyy-MM-dd');\r\n        daysInMonth[dayStr] = {\r\n          date: new Date(day),\r\n          entries: [],\r\n          totalIncome: 0,\r\n          totalExpenses: 0,\r\n          dailyBalance: 0,\r\n          runningBalance: 0\r\n        };\r\n        day = addDays(day, 1);\r\n      }\r\n      \r\n      // Add entries to their respective days\r\n      let monthlyIncome = 0;\r\n      let monthlyExpenses = 0;\r\n      \r\n      entries.forEach(entry => {\r\n        // Ensure entry.date is a Date object\r\n        const entryDate = entry.date instanceof Date ? entry.date : new Date(entry.date);\r\n        \r\n        // Only process entries for the current month\r\n        if (entryDate >= monthStart && entryDate <= monthEnd) {\r\n          const dayStr = format(entryDate, 'yyyy-MM-dd');\r\n          \r\n          if (daysInMonth[dayStr]) {\r\n            daysInMonth[dayStr].entries.push({\r\n              ...entry,\r\n              date: entryDate // Ensure we use the Date object\r\n            });\r\n            \r\n            if (entry.type === 'income') {\r\n              daysInMonth[dayStr].totalIncome += entry.amount;\r\n              monthlyIncome += entry.amount;\r\n            } else {\r\n              daysInMonth[dayStr].totalExpenses += entry.amount;\r\n              monthlyExpenses += entry.amount;\r\n            }\r\n            \r\n            daysInMonth[dayStr].dailyBalance = daysInMonth[dayStr].totalIncome - daysInMonth[dayStr].totalExpenses;\r\n          }\r\n        }\r\n      });\r\n      \r\n      // Calculate running balance for each day\r\n      let runningBalance = 0;\r\n      day = monthStart;\r\n      while (day <= monthEnd) {\r\n        const dayStr = format(day, 'yyyy-MM-dd');\r\n        runningBalance += daysInMonth[dayStr].dailyBalance;\r\n        daysInMonth[dayStr].runningBalance = runningBalance;\r\n        day = addDays(day, 1);\r\n      }\r\n      \r\n      setMonthData({\r\n        days: daysInMonth,\r\n        totalIncome: monthlyIncome,\r\n        totalExpenses: monthlyExpenses,\r\n        monthlyBalance: monthlyIncome - monthlyExpenses\r\n      });\r\n    } catch (error) {\r\n      console.error('Error updating month data', error);\r\n      // Initialize with empty data if there's an error\r\n      setMonthData({\r\n        days: {},\r\n        totalIncome: 0, \r\n        totalExpenses: 0,\r\n        monthlyBalance: 0\r\n      });\r\n    }\r\n  }, [entries, currentDate]);\r\n\r\n  // Update year data whenever entries or current date's year changes\r\n  useEffect(() => {\r\n    try {\r\n      const currentYear = getYear(currentDate);\r\n      \r\n      // Initialize the monthly summaries array\r\n      const monthlySummaries: MonthSummary[] = Array.from({ length: 12 }, (_, month) => ({\r\n        month,\r\n        year: currentYear,\r\n        totalIncome: 0,\r\n        totalExpenses: 0,\r\n        monthlyBalance: 0\r\n      }));\r\n      \r\n      // Calculate the totals for each month in the year\r\n      entries.forEach(entry => {\r\n        const entryDate = entry.date instanceof Date ? entry.date : new Date(entry.date);\r\n        const entryYear = getYear(entryDate);\r\n        const entryMonth = getMonth(entryDate);\r\n        \r\n        // Only process entries for the current year\r\n        if (entryYear === currentYear) {\r\n          if (entry.type === 'income') {\r\n            monthlySummaries[entryMonth].totalIncome += entry.amount;\r\n          } else {\r\n            monthlySummaries[entryMonth].totalExpenses += entry.amount;\r\n          }\r\n        }\r\n      });\r\n      \r\n      // Calculate monthly balances and yearly totals\r\n      let yearlyIncome = 0;\r\n      let yearlyExpenses = 0;\r\n      \r\n      monthlySummaries.forEach(month => {\r\n        month.monthlyBalance = month.totalIncome - month.totalExpenses;\r\n        yearlyIncome += month.totalIncome;\r\n        yearlyExpenses += month.totalExpenses;\r\n      });\r\n      \r\n      setYearData({\r\n        year: currentYear,\r\n        months: monthlySummaries,\r\n        totalIncome: yearlyIncome,\r\n        totalExpenses: yearlyExpenses,\r\n        yearlyBalance: yearlyIncome - yearlyExpenses\r\n      });\r\n    } catch (error) {\r\n      console.error('Error updating year data', error);\r\n      setYearData({\r\n        year: getYear(currentDate),\r\n        months: [],\r\n        totalIncome: 0,\r\n        totalExpenses: 0,\r\n        yearlyBalance: 0\r\n      });\r\n    }\r\n  }, [entries, currentDate]);\r\n\r\n  const addEntry = (entry: Omit<FinancialEntry, 'id'>) => {\r\n    try {\r\n      const newEntry: FinancialEntry = {\r\n        ...entry,\r\n        id: Date.now().toString(),\r\n        date: entry.date instanceof Date ? entry.date : new Date(entry.date)\r\n      };\r\n      setEntries(prev => [...prev, newEntry]);\r\n    } catch (error) {\r\n      console.error('Error adding entry', error);\r\n    }\r\n  };\r\n\r\n  const updateEntry = (updatedEntry: FinancialEntry) => {\r\n    try {\r\n      setEntries(prev => \r\n        prev.map(entry => \r\n          entry.id === updatedEntry.id ? \r\n          {\r\n            ...updatedEntry,\r\n            date: updatedEntry.date instanceof Date ? updatedEntry.date : new Date(updatedEntry.date)\r\n          } : entry\r\n        )\r\n      );\r\n    } catch (error) {\r\n      console.error('Error updating entry', error);\r\n    }\r\n  };\r\n\r\n  const deleteEntry = (id: string) => {\r\n    try {\r\n      setEntries(prev => prev.filter(entry => entry.id !== id));\r\n    } catch (error) {\r\n      console.error('Error deleting entry', error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    monthData,\r\n    yearData,\r\n    addEntry,\r\n    updateEntry,\r\n    deleteEntry,\r\n    entries\r\n  };\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}