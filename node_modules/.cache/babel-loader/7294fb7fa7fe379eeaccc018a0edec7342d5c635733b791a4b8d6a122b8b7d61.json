{"ast":null,"code":"import React,{useState}from'react';import{BrowserRouter as Router,Route,Routes,Navigate}from'react-router-dom';import{Header}from'./components/Header';import{Calendar}from'./components/Calendar';import{AuthPage}from'./components/auth/AuthPage';import{FinancialEntryForm}from'./components/FinancialEntryForm';import{useFinancialData}from'./hooks/useFinancialData';import{AuthProvider,useAuth}from'./context/AuthContext';import{RecurringPayments}from'./components/RecurringPayments';import'./App.css';// Protected route component\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children}=_ref;const{isAuthenticated,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"});}if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/auth\",replace:true});}return/*#__PURE__*/_jsx(_Fragment,{children:children});};// Main app component (without auth context)\nconst AppContent=()=>{const[view,setView]=useState('month');const[currentDate,setCurrentDate]=useState(new Date());const[showEntryForm,setShowEntryForm]=useState(false);const[editingEntry,setEditingEntry]=useState(null);const[error,setError]=useState(null);const{addEntry,updateEntry,deleteEntry,recurringPayments,addRecurringPayment,updateRecurringPayment,deleteRecurringPayment,monthData,yearData}=useFinancialData(currentDate);const handleAddEntry=entry=>{try{addEntry(entry);setShowEntryForm(false);setEditingEntry(null);}catch(err){setError(err instanceof Error?err.message:'Failed to add entry');}};const handleUpdateEntry=entry=>{try{updateEntry(entry);setEditingEntry(null);}catch(err){setError(err instanceof Error?err.message:'Failed to update entry');}};const handleDeleteEntry=id=>{try{deleteEntry(id);}catch(err){setError(err instanceof Error?err.message:'Failed to delete entry');}};const handleUpdateRecurringPayment=updatedPayment=>{updateRecurringPayment(updatedPayment);};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Header,{title:\"Personal Budget Tracker\"}),/*#__PURE__*/_jsxs(\"main\",{className:\"app-main\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),monthData&&yearData?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEntryForm(true),children:\"Add New Entry\"}),/*#__PURE__*/_jsx(Calendar,{view:view,currentDate:currentDate,onDateChange:setCurrentDate,monthData:monthData,yearData:yearData,onAddEntry:handleAddEntry,onUpdateEntry:handleUpdateEntry,onDeleteEntry:handleDeleteEntry,onViewChange:setView}),showEntryForm&&/*#__PURE__*/_jsx(FinancialEntryForm,{entry:editingEntry,onSave:handleAddEntry,onCancel:()=>{setShowEntryForm(false);setEditingEntry(null);}}),/*#__PURE__*/_jsx(RecurringPayments,{recurringPayments:recurringPayments,onAddRecurringPayment:addRecurringPayment,onUpdateRecurringPayment:handleUpdateRecurringPayment,onDeleteRecurringPayment:deleteRecurringPayment})]}):/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading calendar data...\"})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"app-footer\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\xA9 \",new Date().getFullYear(),\" Personal Budget Tracker\"]})})]});};// Root component with providers\nconst App=()=>{return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AppContent,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",element:/*#__PURE__*/_jsx(AuthPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})});};export default App;","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Route","Routes","Navigate","Header","Calendar","AuthPage","FinancialEntryForm","useFinancialData","AuthProvider","useAuth","RecurringPayments","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ProtectedRoute","_ref","children","isAuthenticated","loading","className","to","replace","AppContent","view","setView","currentDate","setCurrentDate","Date","showEntryForm","setShowEntryForm","editingEntry","setEditingEntry","error","setError","addEntry","updateEntry","deleteEntry","recurringPayments","addRecurringPayment","updateRecurringPayment","deleteRecurringPayment","monthData","yearData","handleAddEntry","entry","err","Error","message","handleUpdateEntry","handleDeleteEntry","id","handleUpdateRecurringPayment","updatedPayment","title","onClick","onDateChange","onAddEntry","onUpdateEntry","onDeleteEntry","onViewChange","onSave","onCancel","onAddRecurringPayment","onUpdateRecurringPayment","onDeleteRecurringPayment","getFullYear","App","path","element"],"sources":["C:/Users/Administrator/Downloads/personal-budget-tracker v2/personal-budget-tracker/src/App.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport { Header } from './components/Header';\nimport { Calendar } from './components/Calendar';\nimport { AuthPage } from './components/auth/AuthPage';\nimport { FinancialEntryForm } from './components/FinancialEntryForm';\nimport { useFinancialData } from './hooks/useFinancialData';\nimport { AuthProvider, useAuth } from './context/AuthContext';\nimport { FinancialEntry, CalendarViewType, RecurringPayment } from './types';\nimport { RecurringPayments } from './components/RecurringPayments';\nimport './App.css';\n\n// Protected route component\nconst ProtectedRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const { isAuthenticated, loading } = useAuth();\n\n  if (loading) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  if (!isAuthenticated) {\n    return <Navigate to=\"/auth\" replace />;\n  }\n\n  return <>{children}</>;\n};\n\n// Main app component (without auth context)\nconst AppContent: React.FC = () => {\n  const [view, setView] = useState<CalendarViewType>('month');\n  const [currentDate, setCurrentDate] = useState<Date>(new Date());\n  const [showEntryForm, setShowEntryForm] = useState(false);\n  const [editingEntry, setEditingEntry] = useState<FinancialEntry | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const {\n    addEntry,\n    updateEntry,\n    deleteEntry,\n    recurringPayments,\n    addRecurringPayment,\n    updateRecurringPayment,\n    deleteRecurringPayment,\n    monthData,\n    yearData,\n  } = useFinancialData(currentDate);\n\n  const handleAddEntry = (entry: Omit<FinancialEntry, 'id'>) => {\n    try {\n      addEntry(entry);\n      setShowEntryForm(false);\n      setEditingEntry(null);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to add entry');\n    }\n  };\n\n  const handleUpdateEntry = (entry: FinancialEntry) => {\n    try {\n      updateEntry(entry);\n      setEditingEntry(null);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to update entry');\n    }\n  };\n\n  const handleDeleteEntry = (id: string) => {\n    try {\n      deleteEntry(id);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to delete entry');\n    }\n  };\n\n  const handleUpdateRecurringPayment = (updatedPayment: RecurringPayment) => {\n    updateRecurringPayment(updatedPayment);\n  };\n\n  return (\n    <div className=\"app\">\n      <Header title=\"Personal Budget Tracker\" />\n      \n      <main className=\"app-main\">\n        {error && <div className=\"error\">{error}</div>}\n        \n        {monthData && yearData ? (\n          <>\n            <button onClick={() => setShowEntryForm(true)}>Add New Entry</button>\n            \n            <Calendar\n              view={view}\n              currentDate={currentDate}\n              onDateChange={setCurrentDate}\n              monthData={monthData}\n              yearData={yearData}\n              onAddEntry={handleAddEntry}\n              onUpdateEntry={handleUpdateEntry}\n              onDeleteEntry={handleDeleteEntry}\n              onViewChange={setView}\n            />\n\n            {showEntryForm && (\n              <FinancialEntryForm\n                entry={editingEntry}\n                onSave={handleAddEntry}\n                onCancel={() => {\n                  setShowEntryForm(false);\n                  setEditingEntry(null);\n                }}\n              />\n            )}\n\n            <RecurringPayments\n              recurringPayments={recurringPayments}\n              onAddRecurringPayment={addRecurringPayment}\n              onUpdateRecurringPayment={handleUpdateRecurringPayment}\n              onDeleteRecurringPayment={deleteRecurringPayment}\n            />\n          </>\n        ) : (\n          <div className=\"loading\">Loading calendar data...</div>\n        )}\n      </main>\n      \n      <footer className=\"app-footer\">\n        <p>Â© {new Date().getFullYear()} Personal Budget Tracker</p>\n      </footer>\n    </div>\n  );\n};\n\n// Root component with providers\nconst App: React.FC = () => {\n  return (\n    <AuthProvider>\n      <Router>\n        <Routes>\n          <Route \n            path=\"/\" \n            element={\n              <ProtectedRoute>\n                <AppContent />\n              </ProtectedRoute>\n            } \n          />\n          <Route path=\"/auth\" element={<AuthPage />} />\n          <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n        </Routes>\n      </Router>\n    </AuthProvider>\n  );\n};\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}